<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-96YGGLPDXN"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-96YGGLPDXN');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoundsOfATC</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
            line-height: 1.6;
            background: linear-gradient(135deg, #7145f5, #c603fc);
            overflow-x: hidden;
        }
        header {
            background-color: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
        }
        nav {
            background-color: #444;
            padding: 10px;
            text-align: center;
        }
        nav a {
            color: #fff;
            text-decoration: none;
            padding: 5px 10px;
            margin: 0 5px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        nav a:hover {
            background-color: #666;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        main {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: transparent;
            color: #333;
            line-height: 1.6;
        }
        .atc-feed {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .atc-feed:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .atc-feed h3 {
            margin: 0;
            font-size: 22px;
            color: #333;
        }
        .section {
            margin-top: 40px;
        }
        .section h2 {
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
            font-size: 28px;
        }
        audio {
            width: 100%;
            max-width: 400px;
            display: block;
            margin-top: 15px;
        }
        .play-button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        .play-button:hover {
            background-color: #45a049;
        }
        .error-message {
            color: red;
            margin-top: 5px;
        }
    </style>
</head>
<body>

<header>
    <h1>SoundsOfATC</h1>
</header>

<nav>
    <a href="https://soundsofatc.com">Home</a>
    <a href="https://soundsofatc.com/feeds">Feeds</a>
    <a href="https://soundsofatc.com/submit">Submit a feed</a>
    <a href="https://soundsofatc.com/help">Help</a>
</nav>

<main>
    <section class="section">
        <h2>Aviation</h2>
        
        <div class="atc-feed">
            <h3>ATCC UK - London/Scottish Control</h3>
            <audio id="audio1" crossorigin="anonymous" src="https://radio.radarbox24.com/EXTVHF008463" preload="none" controls></audio>
            <button class="play-button" onclick="playAudio('audio1')">Play Stream</button>
            <div id="error1" class="error-message"></div>
        </div>
        
        <div class="atc-feed">
            <h3>London North Control (S03 Lakes) - 133.700</h3>
            <audio id="audio2" crossorigin="anonymous" src="https://radio.radarbox24.com/EXTVHF001080" preload="none" controls></audio>
            <button class="play-button" onclick="playAudio('audio2')">Play Stream</button>
            <div id="error2" class="error-message"></div>
        </div>

        <div class="atc-feed">
            <h3>Liverpool John Lennon Airport (EGGP) Tower, Ground & Radar</h3>
            <audio id="audio2" crossorigin="anonymous" src="https://radio.radarbox24.com/EXTVHF006302" preload="none" controls></audio>
            <button class="play-button" onclick="playAudio('audio2')">Play Stream</button>
            <div id="error2" class="error-message"></div>
        </div>

        <div class="atc-feed">
            <h3>Manchester Airport (EGCC) Tower, Ground & Delivery</h3>
            <audio id="audio2" crossorigin="anonymous" src="https://radio.radarbox24.com/EXTVHF006332" preload="none" controls></audio>
            <button class="play-button" onclick="playAudio('audio2')">Play Stream</button>
            <div id="error2" class="error-message"></div>
        </div>
    </section>

    <section class="section">
        <h2>Marine</h2>
        <div class="atc-feed">
            <h3>North West Marine</h3>
            <audio crossorigin="anonymous" src="https://broadcastify.cdnstream1.com/42218" preload="auto" autoplay="" controls=""></audio>
        </div>
</main>

<script>
    // Function to play audio and handle errors
    function playAudio(audioId) {
        const audio = document.getElementById(audioId);
        const errorElement = document.getElementById(`error${audioId.slice(-1)}`);
        
        // Pause all other audio players
        document.querySelectorAll("audio").forEach(a => {
            if (a.id !== audioId) {
                a.pause();
            }
        });
        
        // Try to play the selected audio
        audio.play()
            .then(() => {
                errorElement.textContent = ""; // Clear any previous errors
            })
            .catch(error => {
                errorElement.textContent = "Error: Could not play stream. Try refreshing or check your connection.";
                console.error("Audio playback error:", error);
            });
    }
    
    // Auto-pause other players when one plays
    document.querySelectorAll("audio").forEach(a => {
        a.addEventListener("play", function() {
            document.querySelectorAll("audio").forEach(otherAudio => {
                if (otherAudio !== a) otherAudio.pause();
            });
        });
    });
</script>

</body>
</html>
